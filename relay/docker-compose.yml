version: '3.8'

services:
  owlrelay:
    build: .
    # Or use pre-built image:
    # image: ghcr.io/emreylmaz/owlrelay/relay:latest
    container_name: owlrelay
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      - owlrelay-data:/data
    environment:
      - PORT=3000
      - LOG_LEVEL=info
      - RATE_LIMIT_DEFAULT=100
      - SCREENSHOT_TTL=30
    healthcheck:
      test: ["CMD", "/relay", "version"]
      interval: 30s
      timeout: 5s
      retries: 3

volumes:
  owlrelay-data:
